
<VirtualHost *:443>
    ServerName campus.local
    DocumentRoot "C:/campus/htdocs"
    SSLEngine on
    SSLCertificateFile "C:/campus/conf/ssl/campus.crt"
    SSLCertificateKeyFile "C:/campus/conf/ssl/campus.key"
    Header always set X-Project "TechCampus"
    Header always set Strict-Transport-Security "max-age=31536000"
    Alias /static/ "C:/campus/assets/"
    <Directory "C:/campus/assets">
        Options -Indexes +FollowSymLinks
        Require all granted
        Header always set Cache-Control "max-age=3600"
    </Directory>
    ErrorDocument 404 /errors/404.html
    ErrorDocument 500 /errors/500.html
</VirtualHost>

<VirtualHost *:443>
    ServerName staff.campus.local
    DocumentRoot "C:/campus/htdocs"
    SSLEngine on
    SSLCertificateFile "C:/campus/conf/ssl/campus.crt"
    SSLCertificateKeyFile "C:/campus/conf/ssl/campus.key"
    Header always set X-Project "TechCampus"
    Header always set Strict-Transport-Security "max-age=31536000"
    Alias /docs "C:/campus/secure/docs"
    <Directory "C:/campus/secure/docs">
        AuthType Basic
        AuthName "Доступ только для преподавателей"
        AuthUserFile "C:/campus/conf/users.htpasswd"
        Require user teacher1 mentor2
    </Directory>
    Alias /static/ "C:/campus/assets/"
    <Directory "C:/campus/assets">
        Options -Indexes +FollowSymLinks
        Require all granted
        Header always set Cache-Control "max-age=3600"
    </Directory>
    ErrorDocument 401 /errors/staff-401.html
</VirtualHost>

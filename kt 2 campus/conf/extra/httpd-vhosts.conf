# campus.local — порт 80
<VirtualHost *:80>
    ServerName campus.local
    DocumentRoot "C:/campus/htdocs"

    
    Redirect permanent /old https://campus.local/new
    Redirect gone /legacy.html

    
    Redirect permanent / https://campus.local/

    
    Alias /static/ "C:/campus/assets/"
    <Directory "C:/campus/assets">
        Options -Indexes
        Header always set Cache-Control "max-age=3600"
        Require all granted
    </Directory>

    Alias /docs "C:/campus/secure/docs"
    <Directory "C:/campus/secure/docs">
        Require all denied
    </Directory>

    
    Header always set X-Project "TechCampus"
</VirtualHost>


<VirtualHost *:80>
    ServerName staff.campus.local
    DocumentRoot "C:/campus/htdocs"

   
    Alias /docs "C:/campus/secure/docs"
    <Directory "C:/campus/secure/docs">
        Options -Indexes
        AllowOverride None
        AuthType Basic
        AuthName "Restricted Area"
        AuthUserFile "C:/campus/conf/users.htpasswd"
        Require user teacher1 mentor2
        ErrorDocument 401 /errors/401.html
    </Directory>


    Header always set X-Project "TechCampus"
    Header always set Cache-Control "max-age=3600"
</VirtualHost>
